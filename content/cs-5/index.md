---
emoji: ☀️
title: 처리율 제한 알고리즘
date: '2023-02-02 19:03:40'
author: Bangjh
tags: cs http rateLimiter
categories: CS
---

## 처리율 제한 장치란?

네트워크 시스템에서 **처리율 제한 장치(rate limiter)** 는 클라이언트 또는 서비스가 보내는 **트래픽의 처리율(rate)을 제어**하기 위한 장치입니다.

HTTP를 예로 들면 이 장치는 특정 기간 내에 전송되는 클라이언트의 요청 횟수를 제한합니다.

API 요청 횟수가 제한 장치에 정의된 임계치(threshold)를 넘어서면 추가로 도달한 모든 호출은 처리가 중단됩니다.

예를 들어

- 사용자는 초당 2회 이상 새 글을 올릴 수 없다.
- 같은 IP 주소로는 하루에 10개 이상의 계정을 생성할 수 없다.
- 같은 디바이스로는 주당 5회 이상 리워드를 요청할 수 없다.

### 장점

- Dos(Denial of Service) 공격에 의한 자원 고갈을 방지할 수 있습니다. 대부분의 API는 어떤 형태로든 처리율 제한 장치를 갖고 있습니다.
  <br > 예를 들어 트위터는 3시간 동안 300개의 트윗만 올릴 수 있도록 제한합니다.
- 비용을 절감합니다. 추가 요청에 대한 처리를 제한하면 서버를 많이 두지 않아도 되고, 우선순위가 높은 API에 더 많은 자원을 할당할 수 있습니다. <br >
  아울러 처리율 제한은 제 3자 API에 사용료를 지불하고 있는 회사들에게는 중요합니다.
- 서버 과부하를 막습니다. 봇(bot)에서 오는 트래픽이나 사용자의 잘못된 이용 패턴으로 유발된 트래픽을 걸러내는데 활용할 수 있습니다.

---

## 처리율 제한 알고리즘

- 토큰 버킷(token bucket)
- 누출 버킷(leaky bucket)
- 고정 윈도 카운터(fixed window counter)
- 이동 윈도 로그(sliding window log)
- 이동 윈도 카운터(sliding window counter)

---

## 결론

**google.com을 검색하고 웹 페이지가 뜰 때까지 엄청 많은 일들이 일어나지만, 이 모든 일들은 1초도 되지 않아서 완료가 된다.**

```toc

```
