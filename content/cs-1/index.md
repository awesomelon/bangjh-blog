---
emoji: ☀️
title: 캐시가 뭐에요? 먹는건가요?
date: '2022-10-18 23:00:00'
author: Bangjh
tags: cs 캐시 cache
categories: CS
---

이번에 회사 서비스에 [redis](https://redis.io/)란 것을 도입하게 되었습니다.
<br />
**데이터를 메모리에서 처리함으로써 더 빠른 연산을 도모하고 DB의 부하를 덜기 위한 것(캐싱)**
이었습니다.
<br />
redis 문서가 잘 되어 있어서 서비스에 도입하는 데까진 문제가 없었습니다.
하지만 redis를 도입하면서도 스스로에게 캐시가 뭐냐고 물었을 때 누구나 말할 수 있는 간단한 답밖에 하지 못한다는 것을 깨달았다.

그래서 이번 기회에 캐시란 무엇인가 정리해보고자 합니다.

## 캐시?

> 컴퓨터 과학에서 데이터나 값을 미리 복사해 놓은 임시 장소를 일컫습니다. <br />
> 원본 데이터에 접근하는데 걸리는 시간이 캐시의 접근 시간보다 오래 걸리는 경우나 값을 다시 계산하는데 걸리는 시간을 단축시키고 싶은 경우 사용한다.

예를 들자면, 다이소 본점에 가서 물티슈 하나 사는 것보다 집 앞에 있는 다이소에 가는 게 더 빠르게 사 올 수 있습니다.

### 캐시에는 어떤 정보를 담아야 할까?

캐시에 담을 정보를 생각할 때 많이 고려하는 법칙이 있다. [파레토의 법칙](https://ko.wikipedia.org/wiki/%ED%8C%8C%EB%A0%88%ED%86%A0_%EB%B2%95%EC%B9%99)
<br >
파레토의 법칙이란 전체 결과의 80%가 전체 원인의 20%에서 일어나는 현상을 가리킵니다.
<br >
약간 말이 아리송한데 해석하자면 이런 뜻입니다.

- 즐겨 입는 옷의 80%는 옷장에 걸린 옷의 20%에 불과하다.
- 20%의 운전자가 전체 교통 위반의 80% 정도를 차지한다.
- 성과의 80%는 근무시간 중 집중력을 발휘한 20%의 시간에 이뤄진다.
- 두뇌의 20%가 문제의 80%를 푼다. 우수한 20%의 인재가 80%의 문제를 해결한다. 혹은 뇌의 20%만 사용하여 문제 해결에 필요한 80%를 해결한다.
- 운동선수 중 20%가 전체 상금 80%를 싹쓸이한다.
- 인터넷 유저의 20%가 80%의 양질의 정보를 생산한다.

이것을 웹 서비스 분야에 적용하자면 전체 요청 중 80%는 나머지 20%가 차지한다.
<br>
쉽게 말해 전체 요청 중 80%는 같은 요청이라는 이야기이다.
<br>
그래서 캐시에 담을 정보는 본인 서비스에서 어떤 요청이 가장 많은지 파악한 다음 적용해야 한다.

### 지역성

캐시에 담을 정보를 파악하는 데 사용하는 개념이다. 이 개념을 토대로 캐시에 담을 정보를 선별한다.

### 시간 지역성

한번 요청받았던 정보는 가까운 시일 내에 또 요청받을 수 있다는 개념이다.
<br >
같은 쿼리로 여러 차례 요청을 받았다면 그 요청만 캐시에 저장해도 성능의 향상을 꾀할 수 있다.

### 공간 지역성

특정 데이터와 가까운 주소가 순서대로 접근되었을 경우를 공간 지역성이라고 한다.
<br>
CPU 캐시나 디스크 캐시의 경우 한 메모리 주소에 접근할 때 그 주소뿐 아니라 해당 블록을 전부 캐시에 가져오게 된다.
<br>
이때 메모리 주소를 오름차순이나 내림차순으로 접근한다면,
<br>
캐시에 이미 저장된 같은 블록의 데이터를 접근하게 되므로 캐시의 효율성이 크게 향상된다.
<br>

예를 들어

```js
{
  skip: 0,
  limit: 10
},
{
  skip: 10,
  limit: 10
},
{
  skip: 20,
  limit: 10
},
{
  skip: 30,
  limit: 10
}
```

예를 들어 `skip: 30, limit: 10`이 캐시 할 데이터였다고 하더라도 특정 데이터에 접근하려고 순서대로 요청이 온다면 그 요청들을 캐시 하는 것이 성능 향상을 꾀할 수 있다.

### 여기서 드는 의문

캐시가 효율이 좋다면 이렇게 번거롭게 데이터를 선별하지 말고 다 저장하면 되지 않을까?
<br>
물론 저장해도 된다... **돈이 많다면!!!**
<br>
메모리를 계속 추가해가며 서비스를 유지할 수도 있을 것이다.
<br>
하지만 우린 일개 회사에 소속된 개발자이기 때문에 효율을 따져보고 최상의 결과를 내야 한다.

---

### 3. 글쓴이 정보

글쓴이(author)에 입력하신 정보는 홈페이지와 about 페이지 상단에 있는 글쓴이를 소개하는 섹션인 bio에서 사용됩니다. **description**에 자신을 설명하는 문구들을 넣으면 애니메이션으로 보여지게 됩니다. bio에 들어가는 이미지를 바꾸시려면 `assets`에 원하시는 파일을 추가하시고 파일의 이름을 **thumbnail**에 넣어주시면 됩니다.(gif도 지원합니다!)

아이폰 미모티콘으로 thumbnail을 만드는 방법이 궁금하시면 [이 글](https://www.zoomkoding.com/memoji-to-gif/)을 참고해주세요!

> 🤖 위에서 설정한 언어에 따라 description의 포맷이 달라집니다.

```js
author: {
    name: '정진혁',
    bio: {
      role: '개발자',
      description: ['사람에 가치를 두는', '능동적으로 일하는', '이로운 것을 만드는'],
      thumbnail: 'zoomkoding.gif',
    },
    social: {
      github: 'https://github.com/zoomKoding',
      linkedIn: 'https://www.linkedin.com/in/jinhyeok-jeong-800871192',
      email: 'zoomkoding@gmail.com',
    },
},
```

## 🙋‍♀️ about page 만들기

about 페이지 또한 gatsby-meta-config.js를 통해 생성됩니다. about 하위에 있는 timestamps와 projects에 각각 정보를 입력하시면 about 페이지가 자동 생성됩니다.

### 1. timestamps

아래와 같이 각 timestamp 정보를 배열로 제공해주시면 입력하신 순서에 맞춰서 timestamps section에 보여지게 됩니다.

> links에 해당 정보가 없다면 생략해도 됩니다.

```js
{
    date: '2021.02 ~',
    activity: '개인 블로그 개발 및 운영',
    links: {
        post: '/gatsby-starter-zoomkoding-introduction',
        github: 'https://github.com/zoomkoding/zoomkoding-gatsby-blog',
        demo: 'https://www.zoomkoding.com',
    },
},
```

### 2. projects

마찬가지로 각 project 정보를 배열로 제공해주시면 입력하신 순서에 맞춰서 projects section에 보여지게 됩니다.

```js
{
  title: '개발 블로그 테마 개발',
  description:
    '개발 블로그를 운영하는 기간이 조금씩 늘어나고 점점 많은 생각과 경험이 블로그에 쌓아가면서 제 이야기를 담고 있는 블로그를 직접 만들어보고 싶게 되었습니다. 그동안 여러 개발 블로그를 보면서 좋았던 부분과 불편했던 부분들을 바탕으로 레퍼런스를 참고하여 직접 블로그 테마를 만들게 되었습니다.',
  techStack: ['gatsby', 'react'],
  thumbnailUrl: 'blog.png',
  links: {
    post: '/gatsby-starter-zoomkoding-introduction',
    github: 'https://github.com/zoomkoding/zoomkoding-gatsby-blog',
    demo: 'https://www.zoomkoding.com',
  }
}
```

<br/>

그렇게 내용을 문제 없이 입력하셨다면 나만의 블로그가 탄생한 것을 확인하실 수 있습니다.🎉

> 변동사항을 실행 중인 블로그에서 확인하시려면 `npm start`를 통해 재실행해주세요!

## ✍️ 글 쓰기

본격적으로 블로그에 글을 쓰려면 `/content` 아래에 디렉토리를 생성하고 `index.md`에 markdown으로 작성하시면 됩니다.

> 이 때, 폴더의 이름은 경로를 생성하는데 됩니다.

### 🏗 메타 정보

index.md 파일의 상단에는 아래와 같이 emoji, title, date, author, tags, categories 정보를 제공해야 합니다.

> emoji는 글머리에 보여지게 되며, categories는 띄어쓰기로 나누어 여러개를 입력할 수 있습니다.

```
---
emoji:
title: Getting Started
date: '2021-03-22 23:00:00'
author: 줌코딩
tags: tutorial
categories: tutorial
---
```

### 🖼 이미지 경로

글에 이미지를 첨부하고 싶으시다면 같은 디렉토리에 이미지 파일을 추가하셔서 아래와 같이 사용하시면 됩니다.

```
![사진](./[이미지 파일명])
```

### 🔍 목차 생성

글의 우측에 목차가 보이기를 원하신다면 `index.md` 파일 맨 아래에 다음 내용을 추가하시면 자동으로 목차가 생성됩니다.

    ```toc
    ```

### 💡 버그 리포트 & 문의

궁금하신 점이 있으시다면 [이슈](https://github.com/zoomKoding/zoomkoding-gatsby-blog/issues/new)로 남겨주시면 최대한 빠르게 답변 드리도록 하겠습니다!🙋‍♂️

> 🤔 혹시 특정 기능이 없어서 테마 사용을 망설이시거나 제안하고 싶으신 기능이 있으시다면,  
> 👉 [여기](https://github.com/zoomKoding/zoomkoding-gatsby-blog/issues/40)에 댓글 남겨주세요! 적극적으로 반영하겠습니다 :)

```toc

```
